"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["6237"],{9523:function(e,t,r){r.d(t,{a:function(){return i},b:function(){return n}});var a=r(1511),s=r(2940),i=class extends Error{static{(0,s.a)(this,"OramaClientNotInitializedError")}constructor(){super("Orama Client is not initialized")}},n=class{static{(0,s.a)(this,"ChatService")}constructor(e){this.sendQuestion=e=>{if(!this.oramaClient)throw new i;return this.answerSession||(this.answerSession=this.oramaClient.createAnswerSession({events:{onStateChange:(0,s.a)(e=>{let t=e.filter(e=>!!e.query);a.b.interactions=t.map((t,r)=>{var s;let i=a.a.loading;t.aborted?i=a.a.aborted:t.loading&&t.sources?i=a.a.rendering:t.loading&&t.response?i=a.a.streaming:!t.loading&&t.response&&(i=a.a.done);let n=null===(s=t.sources)||void 0===s?void 0:s.map(e=>e.document);return{query:t.query,interactionId:t.interactionId,response:t.response,relatedQueries:t.relatedQueries,status:i,latest:e.length-1===r,sources:n}})},"onStateChange")}})),this.answerSession.ask({term:e,related:{howMany:3,format:"question"}}).catch(e=>{a.b.interactions=a.b.interactions.map((e,t)=>t===a.b.interactions.length-1?Object.assign(Object.assign({},e),{status:a.a.error}):e),console.error(e)})},this.abortAnswer=()=>{if(!this.answerSession)throw new i;this.answerSession.abortAnswer()},this.regenerateLatest=async()=>{if(!this.answerSession)throw new i;this.answerSession.regenerateLast({stream:!1})},this.resetChat=async()=>{if(!this.answerSession)throw new i;a.b.interactions.length<1||(["loading","rendering","streaming"].includes(a.b.interactions[a.b.interactions.length-1].status)&&this.answerSession.abortAnswer(),this.answerSession.clearSession())},this.oramaClient=e}}},4431:function(e,t,r){r.d(t,{a:function(){return p}});var a=r(6934),s=r(2940),i=(0,s.a)((e,t,r)=>{let a=e.get(t);a?a.includes(r)||a.push(r):e.set(t,[r])},"appendToMap"),n=(0,s.a)((e,t)=>{let r;return(...a)=>{r&&clearTimeout(r),r=setTimeout(()=>{r=0,e(...a)},t)}},"debounce"),o=(0,s.a)(e=>!("isConnected"in e)||e.isConnected,"isConnected"),h=n(e=>{for(let t of e.keys())e.set(t,e.get(t).filter(o))},2e3),c=(0,s.a)(()=>{if("function"!=typeof a.f)return{};let e=new Map;return{dispose:(0,s.a)(()=>e.clear(),"dispose"),get:(0,s.a)(t=>{let r=(0,a.f)();r&&i(e,t,r)},"get"),set:(0,s.a)(t=>{let r=e.get(t);r&&e.set(t,r.filter(a.g)),h(e)},"set"),reset:(0,s.a)(()=>{e.forEach(e=>e.forEach(a.g)),h(e)},"reset")}},"stencilSubscription"),l=(0,s.a)(e=>"function"==typeof e?e():e,"unwrap"),d=(0,s.a)((e,t=(e,t)=>e!==t)=>{let r=l(e),a=new Map(Object.entries(r??{})),i={dispose:[],get:[],set:[],reset:[]},n=(0,s.a)(()=>{var t;a=new Map(Object.entries(null!==(t=l(e))&&void 0!==t?t:{})),i.reset.forEach(e=>e())},"reset"),o=(0,s.a)(()=>{i.dispose.forEach(e=>e()),n()},"dispose"),h=(0,s.a)(e=>(i.get.forEach(t=>t(e)),a.get(e)),"get"),c=(0,s.a)((e,r)=>{let s=a.get(e);t(r,s,e)&&(a.set(e,r),i.set.forEach(t=>t(e,r,s)))},"set"),d=typeof Proxy>"u"?{}:new Proxy(r,{get:(e,t)=>h(t),ownKeys:e=>Array.from(a.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>a.has(t),set:(e,t,r)=>(c(t,r),!0)}),p=(0,s.a)((e,t)=>(i[e].push(t),()=>{u(i[e],t)}),"on");return{state:d,get:h,set:c,on:p,onChange:(0,s.a)((t,r)=>{let a=p("set",(e,a)=>{e===t&&r(a)}),s=p("reset",()=>r(l(e)[t]));return()=>{a(),s()}},"onChange"),use:(0,s.a)((...e)=>{let t=e.reduce((e,t)=>(t.set&&e.push(p("set",t.set)),t.get&&e.push(p("get",t.get)),t.reset&&e.push(p("reset",t.reset)),t.dispose&&e.push(p("dispose",t.dispose)),e),[]);return()=>t.forEach(e=>e())},"use"),dispose:o,reset:n,forceUpdate:(0,s.a)(e=>{let t=a.get(e);i.set.forEach(r=>r(e,t,t))},"forceUpdate")}},"createObservableMap"),u=(0,s.a)((e,t)=>{let r=e.indexOf(t);r>=0&&(e[r]=e[e.length-1],e.length--)},"removeFromArray"),p=(0,s.a)((e,t)=>{let r=d(e,t);return r.use(c()),r},"createStore")},9450:function(e,t,r){r.d(t,{a:function(){return s}});var a=(0,r(4431).a)({count:0,facets:[],facetProperty:"",results:[],resultMap:{},highlightedIndex:-1,loading:!1,error:!1,searchService:null,searchParams:null}),{state:s}=a;!function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);}(a,["state"])},1511:function(e,t,r){r.d(t,{a:function(){return a},b:function(){return o},c:function(){return h}});var a,s,i=r(4431);(s=a||(a={})).idle="idle",s.loading="loading",s.rendering="rendering",s.streaming="streaming",s.error="error",s.aborted="aborted",s.done="done";var n=(0,i.a)({chatService:null,interactions:[],sourceBaseURL:"",sourcesMap:{title:"title",description:"description",path:"path"}}),{state:o}=n,h=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}(n,["state"])},9395:function(e,t,r){r.d(t,{a:function(){return s},b:function(){return i}});var a=(0,r(4431).a)({open:!1,currentTask:"search",currentTerm:""}),{state:s}=a,i=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}(a,["state"])},2552:function(e,t,r){r.r(t),r.d(t,{orama_search_box:function(){return p}});var a=r(9523),s=r(3891),i=r(9450),n=r(9395),o=r(1511);r(4431);var h=r(6934),c=r(2940),l=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r},d=class{static{(0,c.a)(this,"SearchService")}constructor(e){this.search=(e,t)=>{var r;if(!this.oramaClient)throw new a.a;if(this.abortSearch(),!e){i.a.results=[],i.a.count=0,i.a.facets=[],i.a.highlightedIndex=-1;return}i.a.loading=!0;let s=this.abortController,n=null!==(r=i.a.searchParams)&&void 0!==r?r:{},{limit:o,offset:h,where:c}=n,d=l(n,["limit","offset","where"]);this.oramaClient.search(Object.assign(Object.assign(Object.assign(Object.assign({},d),{term:e,limit:o||10}),c?{where:c}:{}),i.a.facetProperty&&Object.assign({facets:{[i.a.facetProperty]:{}}},t&&"All"!==t&&{where:Object.assign({[i.a.facetProperty]:{eq:t}},c)})),{abortController:this.abortController}).then(e=>{s.signal.aborted||(i.a.results=this.parserResults(e?.hits,i.a.resultMap),i.a.count=e?.count||0,i.a.facets=this.parseFacets(e?.facets,i.a.facetProperty),i.a.highlightedIndex=-1,i.a.loading=!1)}).catch(()=>{i.a.loading=!1})},this.retry=()=>{throw Error("Not implemented")},this.parserResults=(e,t)=>{if(!e)return[];let r=[],a={};for(let s of e){let e=this.hitToSearchResultParser(s,t),i=s.document[t.section];void 0===a[i]?(r.push({section:i,items:[e]}),a[i]=r.length-1):r[a[i]].items.push(e)}return r},this.hitToSearchResultParser=(e,t)=>({id:e.id,score:e.score,title:t.title?e.document[t.title]:e.document.title,description:t.description?e.document[t.description]:e.document.description,path:t.path?e.document[t.path]:e.document.path}),this.parseFacets=(e,t)=>{var r;if(!t||!e||!(!(null===(r=e[t])||void 0===r)&&r.values))return[];let a=e[t],s=Object.values(a.values).reduce((e,t)=>e+t,0),i=Object.keys(a.values).map(e=>({name:e,count:a.values[e]}));return i.unshift({name:"All",count:s}),i},this.oramaClient=e,this.abortController=new AbortController}abortSearch(){this.abortController.abort(),this.abortController=new AbortController}},u=new class extends EventTarget{static{(0,c.a)(this,"WindowService")}constructor(){super(),this._width=window.innerWidth,this.handleResize=this.handleResize.bind(this),window.addEventListener("resize",this.handleResize)}handleResize(){this._width=window.innerWidth,this.dispatchEvent(new CustomEvent("widthChange",{detail:this._width}))}get width(){return this._width}},p=class{static{(0,c.a)(this,"SearchBox")}constructor(e){(0,h.a)(this,e),this.searchboxClosed=(0,h.e)(this,"searchboxClosed",7),this.closeSearchbox=()=>{n.a.open=!1,this.open=!1},this.onPrefersColorSchemeChange=e=>{this.systemScheme=e.matches?"dark":"light",this.updateTheme()},this.updateWindowWidth=e=>{this.windowWidth=e.detail},this.themeConfig=void 0,this.colorScheme="light",this.index=void 0,this.clientInstance=void 0,this.open=!1,this.facetProperty=void 0,this.resultMap={},this.sourceBaseUrl=void 0,this.sourcesMap=void 0,this.disableChat=!1,this.layout="modal",this.placeholder=void 0,this.chatPlaceholder=void 0,this.searchPlaceholder=void 0,this.suggestions=void 0,this.searchParams=void 0,this.oramaClient=void 0,this.componentID=(0,s.e)("search-box"),this.systemScheme="light",this.windowWidth=void 0}indexChanged(){this.startServices()}watchHandler(){this.updateTheme()}handleOpenPropChange(e){n.a.open=e}handleFacetPropertyChange(e){i.a.facetProperty=e}handleSearchParamsChange(e){i.a.searchParams=e}handleItemClick(e){console.log("Item clicked",e.detail)}handleCloseOnEsc(e){"Escape"===e.key&&this.closeSearchbox()}modalStatusChangedHandler(e){e.detail.id===this.modalRef&&(e.detail.open||(n.a.open=!1,this.open=!1))}updateTheme(){let e="system"===this.colorScheme?this.systemScheme:this.colorScheme,t=this.htmlElement;t&&e&&(t.classList.remove("theme-light","theme-dark"),t.classList.add(`theme-${e}`)),this.updateCssVariables(e)}updateCssVariables(e){var t;let r=this.themeConfig,a=this.htmlElement;if(a&&r&&e){if(!(null===(t=r.colors)||void 0===t)&&t[e])for(let t of Object.keys(r.colors[e]))a.style.setProperty(`${t}`,r.colors[e][t]);if(r.typography)for(let e of Object.keys(r.typography))a.style.setProperty(`${e}`,r.typography[e])}}startServices(){(0,s.c)(this.htmlElement,this.index,this.clientInstance),this.oramaClient=this.clientInstance?this.clientInstance:(0,s.d)(this.index),i.a.searchService=new d(this.oramaClient),o.b.chatService=new a.b(this.oramaClient)}componentWillLoad(){i.a.facetProperty=this.facetProperty,i.a.resultMap=this.resultMap,i.a.searchParams=this.searchParams,this.htmlElement.id=this.componentID,this.startServices()}connectedCallback(){this.windowWidth=u.width,n.a.open=this.open,n.b.onChange("open",()=>{this.open=n.a.open}),this.htmlElement.id=this.componentID,this.schemaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.systemScheme=this.schemaQuery.matches?"dark":"light",this.updateTheme(),this.schemaQuery.addEventListener("change",this.onPrefersColorSchemeChange),u.addEventListener("widthChange",this.updateWindowWidth)}disconnectedCallback(){var e;u.removeEventListener("widthChange",this.updateWindowWidth),null===(e=this.schemaQuery)||void 0===e||e.removeEventListener("change",this.onPrefersColorSchemeChange)}getSearchBox(){return(0,h.b)(h.i,null,(0,h.b)("orama-search",{class:`${this.windowWidth>1024||"search"===n.a.currentTask?"section-active":"section-inactive"}`,placeholder:(this===null||void 0===this?void 0:this.searchPlaceholder)||"Search...",focusInput:"search"===n.a.currentTask,sourceBaseUrl:this.sourceBaseUrl,disableChat:this.disableChat,suggestions:this.suggestions}))}getChatBox(){return(0,h.b)(h.i,null,(0,h.b)("orama-chat",{class:`${"chat"===n.a.currentTask?"section-active":"section-inactive"}`,defaultTerm:"chat"===n.a.currentTask?n.a.currentTerm:"",showClearChat:!1,focusInput:"chat"===n.a.currentTask||0===o.b.interactions.length,placeholder:(this===null||void 0===this?void 0:this.chatPlaceholder)||this.placeholder,sourceBaseUrl:this.sourceBaseUrl,sourcesMap:this.sourcesMap,suggestions:this.suggestions}))}getSlidingPanel(e={withBackdrop:!1}){return(0,h.b)(h.i,null,this.windowWidth>1024&&(0,h.b)("orama-sliding-panel",{open:"chat"===n.a.currentTask,backdrop:e.withBackdrop,closed:(0,c.a)(()=>{n.a.currentTask="search"},"closed")},this.getChatBox()))}getInnerContent(){return(0,h.b)(h.i,null,this.disableChat?null:(0,h.b)("orama-navigation-bar",{handleClose:this.closeSearchbox,showChatActions:"chat"===n.a.currentTask}),(0,h.b)("div",{class:"main"},this.getSearchBox(),this.windowWidth<=1024&&this.getChatBox()),(0,h.b)("orama-footer",{colorScheme:"system"===this.colorScheme?this.systemScheme:this.colorScheme}))}getModalLayout(){return(0,h.b)(h.i,null,(0,h.b)("orama-modal",{ref:(0,c.a)(e=>this.modalRef=e,"ref"),open:n.a.open,class:"modal",mainTitle:"Start your search",closeOnEscape:"search"===n.a.currentTask||this.windowWidth<=1024},this.getInnerContent()),this.getSlidingPanel())}getEmbedLayout(){return(0,h.b)(h.i,null,(0,h.b)("div",{class:"embed"},this.getInnerContent()),this.getSlidingPanel({withBackdrop:!0}))}render(){return i.a.searchService?o.b.chatService?"embed"===this.layout?this.getEmbedLayout():this.getModalLayout():(0,h.b)("orama-text",{as:"p"},"Unable to initialize chat service"):(0,h.b)("orama-text",{as:"p"},"Unable to initialize search service")}get htmlElement(){return(0,h.d)(this)}static get watchers(){return{index:["indexChanged"],themeConfig:["watchHandler"],colorScheme:["watchHandler"],open:["handleOpenPropChange"],facetProperty:["handleFacetPropertyChange"],searchParams:["handleSearchParamsChange"]}}};p.style="@keyframes showIn{0%{opacity:0;transform:translateY(-25%)}to{opacity:1;transform:translateY(0)}}@media (min-width:1024.02px){.modal orama-input{border-radius:0;margin:0;padding:0}.modal input[type=search]{border-radius:.75rem .75rem 0 0;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) 0 0}}.embed{background-color:#fff;background-color:var(--background-color-secondary,#fff);border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:.75rem;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));display:flex;flex-direction:column;height:100%;inset:0;margin:0 auto;max-height:25rem;max-height:calc(400rem/var(--orama-base-font-size, 16));overflow:hidden;padding:0;width:100%}@media (min-width:1024.02px){.embed orama-input{border-radius:0;margin:0;padding:0}.embed input[type=search]{border-radius:.75rem .75rem 0 0;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) var(--radius-m,calc(12rem/var(--orama-base-font-size, 16))) 0 0}}.main{flex-direction:column;flex-grow:1;overflow:hidden}.main,.section-active{display:flex}.section-inactive{display:none}"}}]);